DROP TABLE CARD CASCADE CONSTRAINT PURGE;
DROP TABLE COUNTRY CASCADE CONSTRAINT PURGE;
DROP TABLE DUELIST CASCADE CONSTRAINT PURGE;
DROP TABLE D_BARTER CASCADE CONSTRAINT PURGE;
DROP TABLE H_BARTER CASCADE CONSTRAINT PURGE;
DROP TABLE LOCATIONS CASCADE CONSTRAINT PURGE;
DROP TABLE MATCH CASCADE CONSTRAINT PURGE;
DROP TABLE RARITY CASCADE CONSTRAINT PURGE;
DROP TABLE REGION CASCADE CONSTRAINT PURGE;

CREATE TABLE DUELIST(
  DUELIST_ID VARCHAR2(7) CONSTRAINT PK_DUELIST_ID PRIMARY KEY,
  NAMA VARCHAR2(50) CONSTRAINT NN_DUELIST_NAMA NOT NULL,
  TANGGAL_LAHIR DATE,
  GENDER CHAR(1) CONSTRAINT CH_DUELIST_GENDER CHECK(GENDER='M' OR GENDER='F')
);

CREATE TABLE REGION(
  REGION_ID NUMBER(2) CONSTRAINT PK_REGION_ID PRIMARY KEY,
  REGION_NAME VARCHAR2(50) CONSTRAINT NN_REGION_NAME NOT NULL
);

CREATE TABLE COUNTRY(
  COUNTRY_ID CHAR(2) CONSTRAINT PK_COUNTRY_ID PRIMARY KEY,
  COUNTRY_NAME VARCHAR2(50) CONSTRAINT NN_COUNTRY_NAME NOT NULL,
  REGION_ID NUMBER(2),
  CONSTRAINT FK_COUNTRY_REGION_ID FOREIGN KEY (REGION_ID) REFERENCES REGION(REGION_ID)
);

CREATE TABLE LOCATIONS(
  LOCATION_ID VARCHAR2(7) CONSTRAINT PK_LOCATION_ID PRIMARY KEY,
  CITY VARCHAR2(50) CONSTRAINT NN_CITY NOT NULL,
  COUNTRY_ID CHAR(2) ,
  CONSTRAINT FK_LOCATION_COUNTRY_ID FOREIGN KEY (COUNTRY_ID) REFERENCES COUNTRY(COUNTRY_ID)
);

CREATE TABLE RARITY(
  RARITY_ID VARCHAR2(50) CONSTRAINT PK_RARITY_ID PRIMARY KEY,
  RARITY_VALUE NUMBER(7) CONSTRAINT NN_RARE_VALUE NOT NULL
);


CREATE TABLE CARD(
  CARD_ID VARCHAR2(7) CONSTRAINT PK_CARD_ID PRIMARY KEY,
  CARD_NAME VARCHAR2(50) CONSTRAINT NN_CARD_NAME NOT NULL,
  CARD_TYPE VARCHAR2(50),
  RARITY_ID VARCHAR2(50),
  CARD_ATTRIBUTE VARCHAR2(50),
  CARD_SUB_TYPE VARCHAR2(50),
  CARD_LEVEL NUMBER(2),
  ATK NUMBER(6),
  DEF NUMBER(6),
  CONSTRAINT FK_RARITY_CARD FOREIGN KEY (RARITY_ID) REFERENCES RARITY(RARITY_ID)
);


CREATE TABLE MATCH(
  KD_MATCH VARCHAR2(7) CONSTRAINT PK_KD_MATCH PRIMARY KEY,
  ID_HOME VARCHAR2(7),
  ID_AWAY VARCHAR2(7),
  TGL_MATCH DATE CONSTRAINT NN_TGL_MATCH NOT NULL,
  CARD_ID VARCHAR2(7),
  LOCATION_ID VARCHAR2(7),
  STATUS CHAR(1) CONSTRAINT NN_MATCH_STAT NOT NULL,
  CONSTRAINT FK_ID_HOME FOREIGN KEY (ID_HOME) REFERENCES DUELIST(DUELIST_ID),
  CONSTRAINT FK_ID_AWAY FOREIGN KEY (ID_AWAY) REFERENCES DUELIST(DUELIST_ID),
  CONSTRAINT FK_CARD_ID_MATCH FOREIGN KEY (CARD_ID) REFERENCES CARD(CARD_ID),
  CONSTRAINT FK_LOCATION_ID_MATCH FOREIGN KEY (LOCATION_ID) REFERENCES LOCATIONS(LOCATION_ID),
  CONSTRAINT CK_STAT CHECK(STATUS=0 OR STATUS=1)
);



CREATE TABLE H_BARTER(
  KD_BARTER VARCHAR2(7) CONSTRAINT PK_H_BARTER_KD_BARTER PRIMARY KEY,
  LOCATION_ID VARCHAR2(7),
  TGL_BARTER DATE CONSTRAINT NN_H_BARTER_TGL_BARTER NOT NULL,
  CONSTRAINT FK_LOCATION_ID_H_BARTER FOREIGN KEY (LOCATION_ID) REFERENCES LOCATIONS(LOCATION_ID)
);

CREATE TABLE D_BARTER(
  KD_BARTER VARCHAR2(7),
  DD_BARTER VARCHAR2(7),
  DUELIST_ID_GIVE VARCHAR2(7),
  DUELIST_ID_TAKE VARCHAR2(7),
  CARD_ID VARCHAR2(7),
  CONSTRAINT PK_D_BARTER PRIMARY KEY(KD_BARTER,DD_BARTER),
  CONSTRAINT FK_DUELIST_ID_GIVE FOREIGN KEY (DUELIST_ID_GIVE) REFERENCES DUELIST(DUELIST_ID),
  CONSTRAINT FK_DUELIST_ID_TAKE FOREIGN KEY (DUELIST_ID_TAKE) REFERENCES DUELIST(DUELIST_ID),
  CONSTRAINT FK_CARD_ID FOREIGN KEY (CARD_ID) REFERENCES CARD(CARD_ID)
);

INSERT INTO Duelist VALUES('DID_001','Bill Ingerith',TO_DATE('19/08/1998','DD/MM/YYYY'),'M');
INSERT INTO Duelist VALUES('DID_002','Anselm Arnefield',TO_DATE('24/05/1997','DD/MM/YYYY'),'M');
INSERT INTO Duelist VALUES('DID_003','Adel Greenhouse',TO_DATE('16/09/1999','DD/MM/YYYY'),'F');
INSERT INTO Duelist VALUES('DID_004','Gregoor Eldered',TO_DATE('02/08/2000','DD/MM/YYYY'),'M');
INSERT INTO Duelist VALUES('DID_005','Pebrook Lippiatt',TO_DATE('16/11/1996','DD/MM/YYYY'),'M');
INSERT INTO Duelist VALUES('DID_006','Rosemarie McClaurie',TO_DATE('07/01/2000','DD/MM/YYYY'),'F');
INSERT INTO Duelist VALUES('DID_007','Koenraad Greggersen',TO_DATE('16/06/1998','DD/MM/YYYY'),'M');
INSERT INTO Duelist VALUES('DID_008','Catlaina Fost',TO_DATE('17/03/1999','DD/MM/YYYY'),'F');
INSERT INTO Duelist VALUES('DID_009','Jennee Towne',TO_DATE('31/08/1999','DD/MM/YYYY'),'F');
INSERT INTO Duelist VALUES('DID_010','Holli Bohlje',TO_DATE('03/01/1999','DD/MM/YYYY'),'F');
INSERT INTO Duelist VALUES('DID_011','Neel McClounan',TO_DATE('30/01/1997','DD/MM/YYYY'),'M');
INSERT INTO Duelist VALUES('DID_012','Caitlin Betjeman',TO_DATE('11/07/1995','DD/MM/YYYY'),'F');
INSERT INTO Duelist VALUES('DID_013','Flor McReedy',TO_DATE('25/03/1996','DD/MM/YYYY'),'F');
INSERT INTO Duelist VALUES('DID_014','Aeriel Pickett',TO_DATE('17/03/1999','DD/MM/YYYY'),'F');
INSERT INTO Duelist VALUES('DID_015','Iris Haborn',TO_DATE('26/01/2000','DD/MM/YYYY'),'F');


INSERT INTO Region VALUES('1','Europe');
INSERT INTO Region VALUES('2','Americas');
INSERT INTO Region VALUES('3','Asia');
INSERT INTO Region VALUES('4','Middle East and Africa');

INSERT INTO Country VALUES('IT','Italy','1');
INSERT INTO Country VALUES('JP','Japan','3');
INSERT INTO Country VALUES('US','United States of America','2');
INSERT INTO Country VALUES('CA','Canada','2');
INSERT INTO Country VALUES('CN','China','3');
INSERT INTO Country VALUES('ZW','Zimbabwe','4');
INSERT INTO Country VALUES('EG','Egypt','4');
INSERT INTO Country VALUES('ZW','Zimbabwe','4');
INSERT INTO Country VALUES('SG','Singapore','3');
INSERT INTO Country VALUES('UK','United Kingdom','1');

INSERT INTO Locations VALUES('LID_001','Rome','IT');
INSERT INTO Locations VALUES('LID_002','Milan','IT');
INSERT INTO Locations VALUES('LID_003','Nagoya','JP');
INSERT INTO Locations VALUES('LID_004','Asakura','JP');
INSERT INTO Locations VALUES('LID_005','New York','US');
INSERT INTO Locations VALUES('LID_006','Los Angeles','US');
INSERT INTO Locations VALUES('LID_007','Medicine Hat','CA');
INSERT INTO Locations VALUES('LID_008','Red Deer','CA');
INSERT INTO Locations VALUES('LID_009','Hong Kong','CN');
INSERT INTO Locations VALUES('LID_010','Beijing','CN');

INSERT INTO Rarity VALUES('Secret Rare','100000');
INSERT INTO Rarity VALUES('Ultra Rare','10000');
INSERT INTO Rarity VALUES('Super Rare','1000');
INSERT INTO Rarity VALUES('Rare','100');
INSERT INTO Rarity VALUES('Common','10');

INSERT INTO CARD VALUES('CID_001','Tri-Horned Dragon','Normal Monster','Secret Rare','Dark','Dragon','8','2850','2350');
INSERT INTO CARD VALUES('CID_002','Blue-Eyes White Dragon','Normal Monster','Ultra Rare','Light','Dragon','8','3000','2500');
INSERT INTO CARD VALUES('CID_003','Charubin the Fire Knight','Fusion Monster','Rare','Fire','Pyro','3','1100','800');
INSERT INTO CARD VALUES('CID_004','Flame Swordsman','Fusion Monster','Super Rare','Fire','Warrior','5','1800','1600');
INSERT INTO CARD VALUES('CID_005','Darkfire Dragon','Fusion Monster','Rare','Dark','Dragon','4','1500','1250');
INSERT INTO CARD VALUES('CID_006','Dark Magician','Normal Monster','Ultra Rare','Dark','Spellcaster','7','2500','2100');
INSERT INTO CARD VALUES('CID_007','Gaia the Fierce Knight','Normal Monster','Ultra Rare','Earth','Warrior','7','2300','2100');
INSERT INTO CARD VALUES('CID_008','Celtic Guardian','Normal Monster','Super Rare','Earth','Warrior','4','1400','1200');
INSERT INTO CARD VALUES('CID_009','Basic Insect','Normal Monster','Common','Earth','Insect','2','500','700');
INSERT INTO CARD VALUES('CID_010','Dark Hole','Spell','Super Rare','','Normal','','','');
INSERT INTO CARD VALUES('CID_011','Raigeki','Spell','Super Rare','','Normal','','','');
INSERT INTO CARD VALUES('CID_012','Fissure','Spell','Rare','','Normal','','','');
INSERT INTO CARD VALUES('CID_013','Trap Hole','Trap','Super Rare','','Normal','','','');
INSERT INTO CARD VALUES('CID_014','Polymerization','Spell','Super Rare','','Normal','','','');
INSERT INTO CARD VALUES('CID_015','Remove Trap','Spell','Common','','Normal','','','');
INSERT INTO CARD VALUES('CID_016','Two-Pronged Attack','Trap','Rare','','Normal','','','');
INSERT INTO CARD VALUES('CID_017','Mystical Elf','Normal Monster','Super Rare','Light','Spellcaster','4','800','2000');
INSERT INTO CARD VALUES('CID_018','Monster Egg','Normal Monster','Common','Earth','Warrior','3','600','900');
INSERT INTO CARD VALUES('CID_019','Firegrass','Normal Monster','Common','Earth','Plant','2','700','600');
INSERT INTO CARD VALUES('CID_020','Darkfire Dragon','Fusion Monster','Rare','Dark','Dragon','4','1500','1250');


INSERT INTO Match VALUES('KDM_001','DID_003','DID_004',TO_DATE('03/04/2001','DD/MM/YYYY'),'CID_001','LID_006','0');
INSERT INTO Match VALUES('KDM_002','DID_005','DID_013',TO_DATE('20/06/2001','DD/MM/YYYY'),'CID_002','LID_002','1');
INSERT INTO Match VALUES('KDM_003','DID_008','DID_006',TO_DATE('24/07/2001','DD/MM/YYYY'),'CID_003','LID_006','1');
INSERT INTO Match VALUES('KDM_004','DID_005','DID_004',TO_DATE('06/08/2001','DD/MM/YYYY'),'CID_004','LID_002','0');
INSERT INTO Match VALUES('KDM_005','DID_003','DID_005',TO_DATE('30/01/2002','DD/MM/YYYY'),'CID_005','LID_006','1');
INSERT INTO Match VALUES('KDM_006','DID_008','DID_005',TO_DATE('22/09/2002','DD/MM/YYYY'),'CID_006','LID_006','1');
INSERT INTO Match VALUES('KDM_007','DID_008','DID_004',TO_DATE('30/07/2003','DD/MM/YYYY'),'CID_007','LID_002','1');
INSERT INTO Match VALUES('KDM_008','DID_005','DID_004',TO_DATE('30/12/2003','DD/MM/YYYY'),'CID_008','LID_006','0');
INSERT INTO Match VALUES('KDM_009','DID_008','DID_004',TO_DATE('13/10/2004','DD/MM/YYYY'),'CID_009','LID_002','1');
INSERT INTO Match VALUES('KDM_010','DID_011','DID_005',TO_DATE('01/09/2005','DD/MM/YYYY'),'CID_010','LID_008','1');
INSERT INTO Match VALUES('KDM_011','DID_011','DID_013',TO_DATE('29/04/2006','DD/MM/YYYY'),'CID_011','LID_002','0');
INSERT INTO Match VALUES('KDM_012','DID_011','DID_001',TO_DATE('27/12/2006','DD/MM/YYYY'),'CID_012','LID_008','1');
INSERT INTO Match VALUES('KDM_013','DID_011','DID_013',TO_DATE('15/10/2007','DD/MM/YYYY'),'CID_013','LID_010','0');
INSERT INTO Match VALUES('KDM_014','DID_003','DID_013',TO_DATE('18/09/2008','DD/MM/YYYY'),'CID_014','LID_008','1');
INSERT INTO Match VALUES('KDM_015','DID_011','DID_013',TO_DATE('04/02/2009','DD/MM/YYYY'),'CID_015','LID_008','1');
INSERT INTO H_Barter VALUES('BTR_001','LID_002',TO_DATE('05/06/2011','DD/MM/YYYY'));
INSERT INTO H_Barter VALUES('BTR_002','LID_003',TO_DATE('10/05/2012','DD/MM/YYYY'));
INSERT INTO H_Barter VALUES('BTR_003','LID_001',TO_DATE('10/08/2012','DD/MM/YYYY'));
INSERT INTO H_Barter VALUES('BTR_004','LID_002',TO_DATE('11/05/2013','DD/MM/YYYY'));
INSERT INTO H_Barter VALUES('BTR_005','LID_009',TO_DATE('04/03/2014','DD/MM/YYYY'));
INSERT INTO H_Barter VALUES('BTR_006','LID_006',TO_DATE('12/11/2014','DD/MM/YYYY'));
INSERT INTO H_Barter VALUES('BTR_007','LID_002',TO_DATE('05/01/2015','DD/MM/YYYY'));
INSERT INTO H_Barter VALUES('BTR_008','LID_003',TO_DATE('08/01/2015','DD/MM/YYYY'));
INSERT INTO H_Barter VALUES('BTR_009','LID_002',TO_DATE('07/03/2015','DD/MM/YYYY'));
INSERT INTO H_Barter VALUES('BTR_010','LID_002',TO_DATE('04/12/2015','DD/MM/YYYY'));
INSERT INTO H_Barter VALUES('BTR_011','LID_009',TO_DATE('05/09/2016','DD/MM/YYYY'));
INSERT INTO H_Barter VALUES('BTR_012','LID_003',TO_DATE('03/04/2017','DD/MM/YYYY'));
INSERT INTO H_Barter VALUES('BTR_013','LID_009',TO_DATE('07/06/2017','DD/MM/YYYY'));
INSERT INTO H_Barter VALUES('BTR_014','LID_009',TO_DATE('01/01/2018','DD/MM/YYYY'));
INSERT INTO H_Barter VALUES('BTR_015','LID_009',TO_DATE('02/02/2018','DD/MM/YYYY'));
INSERT INTO D_Barter VALUES('BTR_001','DBR_001','DID_004','DID_008','CID_001');
INSERT INTO D_Barter VALUES('BTR_001','DBR_002','DID_008','DID_004','CID_003');
INSERT INTO D_Barter VALUES('BTR_002','DBR_001','DID_008','DID_004','CID_002');
INSERT INTO D_Barter VALUES('BTR_002','DBR_002','DID_012','DID_001','CID_004');
INSERT INTO D_Barter VALUES('BTR_003','DBR_001','DID_010','DID_014','CID_005');
INSERT INTO D_Barter VALUES('BTR_003','DBR_002','DID_014','DID_010','CID_008');
INSERT INTO D_Barter VALUES('BTR_004','DBR_001','DID_010','DID_002','CID_010');
INSERT INTO D_Barter VALUES('BTR_004','DBR_002','DID_002','DID_010','CID_011');
INSERT INTO D_Barter VALUES('BTR_005','DBR_001','DID_015','DID_009','CID_012');

commit;
